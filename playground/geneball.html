<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>gene ball</title>
    <style>
        body { background: wheat; }
        @layer main {
            body { background: wheat; }
        }
    </style>
</head>
<body>
    <pre>
        ABPT
        RGFH
    </pre>
    <script>
        const log = msg => console.log(msg)
        const tab = msg => console.table({...msg})
        const GeneFactory = function() {
            let DNA  = this
            DNA.SEED ='RGFHIAEO'
            DNA.BASE ='RGFH'
            DNA.GeneSeed = base => {
                const  r = DNA.BASE;
                const  g = x => x[0]+f(x)+f(x)+f(x);
                const  f = x => x[Math.floor( Math.random()*x.length )];
                const  h = base ||f(r);
                return g(h+r);
            };
        }
        const GeneFactoryTest = function(GeneFactory) {
            let X = new GeneFactory()
            let GeneSeedF1 = r => Array.from('123456789012').map(x=>X.GeneSeed(r))
            log('GeneSeed R/G/F/H');
            log(GeneSeedF1('R'))
            log(GeneSeedF1('G'))
            log(GeneSeedF1('F'))
            log(GeneSeedF1('H'))
        }
        const SheepFactory = function() {
            let DNA  = this
            DNA.code = {r:[],g:[],f:[],h:[]}
            DNA.FillCode = (code) => {
                let i = 'r'
                const isFreeBase = !code[i].length
                const lastGene = code[i][code[i].length-1]
                const inviteChar = isFreeBase ? i : lastGene[3]
            }
            
        };
/*
RGFH
MBPT
IAE

sheep
ship
    nuke
        rgfh
        e:  exp, game played
        a:  atf, focus points
        i:  ini, initiative
        o:  empty
    pool
        

        s:  svg
            mods:
                r*r*:

        const GeneFactory = function() {
            let DNA  = this
            DNA.SEED ='RGFH'
            DNA.BornGene = base => {
                const  f = x => Math.floor( Math.random()*x.length )
                const  g = x =>(base||x[f(x)])+x[f(x)]+x[f(x)]+x[f(x)]
                return g(DNA.SEED)
            }
            DNA.GeneCreate = base => {
                const  f = x => x[Math.floor( Math.random()*x.length )]
                const  g = x => x[0]+f(x)+f(x)+f(x)
                let seed = DNA.SEED
                let head = base || f(seed)
                return g(head+seed)
            }
            DNA.GrowGene = blob => {
                const { gene, next } = blob
            }
            DNA.JoinPair = pair => {
                // const { a, b, }
            }
        };
*/


        const lib = {
            GeneEvents: {
                R: [
                    {
                        name:'RR Double Run',
                        rule: G => G[3] === 'R',
                    },
                    {
                        name:'RH Hit & Run',
                        rule: G => G[3] === 'H',
                    },
                ],
            },
        };
        const GeneEvents = {
            R:Gene => {
                let R = lib.GeneEvents.R
                let G = Gene // mix
                let F = GeneEvent => GeneEvent.rule
                let H = GeneEvent => log(GeneEvent.name)
                let action = R => F(R)(G) && H(R)
                R.map(action)
            }
        }
        GeneEvents.R('RRGHH0')
        let X = new GeneFactory()

        console.log('X Gene', X.GeneSeed('X'))
        console.log('D Gene', X.GeneSeed())

        const sheep = {
            AR:[X.GeneSeed('R')],
            BG:[X.GeneSeed('G')],
            PF:[X.GeneSeed('F')],
            TH:[X.GeneSeed('H')]
        }
        tab(sheep)
        GeneFactoryTest(GeneFactory);

    </script>
    <!-- 
    <script>
        let org = {
            M: []
          , B: []
          , P: []
          , T: []
        }
        GameActions = {
            R: G => {
                // G[0]
                // G[3]
                // G[2]
                if (G[3]==='R') console.log('RR Double Run')
            }
        }
        GameAction['R']
        let org = {
            R: [ 'RGFH' , 'HGFH' ],
            G: [ 'GGFH' ],
            F: [ 'FGFH' ],
            H: [ 'HGFH' ],
        }
        let org = [
            ['MRRR', 'RGFH']
          , ['BGGG', 'GGFH']
          , ['PFFF', 'FGFH']
          , ['THHH', 'HGFH']
        ]
        const A = {
            DNA : 'MBPT'
          , MAP : 'RGFH'
        }
        const MBPT = 'MBPT';
        const RGFH = 'RGFH';
        let gene = 'RGFH';
        let root = MBPT[RGFH.indexOf(gene[0])];
        let next = 'HGFH'

        const godmode = {
            g: i => gene[i]
          , G: gene
        }
        let { g } = godmode;
        
        let root = MBPT[RGFH.indexOf(G[1])];

        /**/gene = 'RGFH'
        let pair = {
            init : gene[0] + gene[1]
          , acid : gene[2] + gene[3]
          , exit : gene[4] + gene[5]
        }
        let set1 = [ 'init', 'acid', 'exit' ]

        let  = 'RGFH'

        let fun1 = gene => {
            
        }
        let gene = {
            init : 'A',
            acid : 'RGFH',
            exit : '0'
        }
        let gene = acid => {
            
        }
    </script>
     -->
</body>
</html>