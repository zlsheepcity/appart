/** Ennoia Home Page
    2020.3.13
 */

.ennoia-header {
  --sp:      1.5rem;
  --icon-size: 5rem;
}
@media (max-width:64rem) {
    .ennoia-header {
      --sp:        4vw;
      --icon-size: calc(160/1000*92vw);
    }
}

.ennoia-header {
    display:         flex;
    flex-direction:  row;
    flex-wrap:       wrap;
    justify-content: center;
    align-items:     center;
    align-content:   center;

  --back-color:         var(--c--NobleBlack);
  --back-color-accent:  var(--c--NobleNight);
  --back-color-descent: var(--light-shadow);

  --text-color:         var(--c--NobleWhite);
  --text-color-accent:  var(--c--NobleAccent);
  --text-color-descent: var(--c--NobleDay);

  --link-color:         var(--c--NobleAccent);
  --link-color-accent:  var(--c--NobleAction);
  --link-color-descent: var(--c--NobleAction);

  --shadow-color: var(--shadow-color--for-dark-base);
  --light-shadow: var(--light-shadow--for-dark-base);

    background-color: var(--back-color);
    color:            var(--text-color);
}
.ennoia-header .el-logo {
    padding:      var(--sp);
    margin-left:  0;
    margin-right: auto;
}
.ennoia-header .i-logo {
    max-height:  var(--icon-size);
}
.ennoia-header .i-hamburger {
    padding:          var(--sp);
    background-color: var(--back-color);
    position: fixed;
    z-index:  3;
    top:      0;
    left:     0;
  --scale: 1;
  --size:   calc( var(--sp) + var(--icon-size) + var(--sp) );
    width:  var(--size);
    height: var(--size);
}
.ennoia-header .i-hamburger:hover {
  --scale: 1.25;
}
.ennoia-header .i-hamburger::before {
    content: '';
    position: absolute;
    z-index:  1;
    top:      var(--sp);
    left:     var(--sp);
    width:    var(--icon-size);
    height:   var(--icon-size);
    background-size: contain;
    background-position: 0 0;
    background-repeat: no-repeat;
 /* SVG: ennoia-e */
    background-image: url('data:image/svg+xml;utf8,<svg fill="white" width="160" height="160" viewBox="0 0 160 160" xmlns="http://www.w3.org/2000/svg"><rect y="11.1" width="147.4" height="31.8"/><rect y="63.8" width="147.4" height="31.8"/><rect y="117.1" width="147.4" height="31.8"/></svg>');

    transform-origin: center center;
    transition: transform 120ms ease-in-out;
    transform: scale(var(--scale));
}

.ennoia-header .header-menu {
    margin-left:  auto;
    margin-right: auto;
}
.header-menu {
    display:         flex;
    flex-direction:  row;
    flex-wrap:       wrap;
    justify-content: flex-start;
    align-items:     center;
    align-content:   center;
}
.header-menu .item {
    display: block;
    padding: var(--sp);
  --text-decoration: none;
    text-decoration: var(--text-decoration);

 /* 20/32 */
  --font-size:   var(--inc-font-size, 1.25em);
  --line-height: calc(32/20);
    font-size:   var(--font-size);
    line-height: var(--line-height);
}
.header-menu .item:hover {
  --text-decoration: underline;
}

.home-chapter {
    height: 40vh;
    ---border-left: 8rem solid var(--back-color);
}





/** Unsorted */

.banner-ninini.ennoia-theme {

  --back-color: slategray;
  --animation-fulltime: 12s;
  --animation-function: ease-in-out;

 /* how image is zoomed */
  --scaleA: 1;
  --scaleB: 1.1;

 /* image crop alignment */
  --coverA:    top right;
  --coverB: bottom right;

  --layer1-image:    url(../art/welcome/ninini-mask1.svg);
  --layer2-image:    url(../art/welcome/ninini-mask2.svg);
}

/** main layer for background image */

.banner-ninini.ennoia-theme {
  --layer0-frameset: timeline-ennoia-ninini-img;
  --layer0-function: cubic-bezier(0.165,  0.84,  0.44,  1); /*SmoothFocus*/
}
@keyframes timeline-ennoia-ninini-img {
    0% {
        transform: scale(var(--scaleA));
    }
    40% {
        transform: scale(var(--scaleB));
    }
    100% {
        transform: scale(var(--scaleA));
    }
}

/** layers for effects */

.banner-ninini.ennoia-theme {
  --layer1-frameset: timeline-ennoia-ninini-noize-1;
  --layer1-opacityA: 0.25;
  --layer1-opacityB: 0.50;

  --layer2-frameset: timeline-ennoia-ninini-noize-2;
  --layer2-opacityA: 0.20;
  --layer2-opacityB: 0.05;
}
@keyframes timeline-ennoia-ninini-noize-1 {
    0% {
        transform: scale(var(--scaleA));
        opacity: var(--layer1-opacityA);
    }
    10% {
        transform: scale(var(--scaleA));
    }
    44% {
        transform: scale(var(--scaleB));
        opacity: var(--layer1-opacityB);
    }
    60% {
        opacity: var(--layer1-opacityA);
    }
    90% {
        transform: scale(var(--scaleA));
    }
    100% {
        opacity: var(--layer1-opacityA);
    }
}
@keyframes timeline-ennoia-ninini-noize-2 {
    0% {
        transform: scale(var(--scaleA));
        opacity: var(--layer2-opacityA);
    }
    36% {
        transform: scale(var(--scaleB));
        opacity: var(--layer2-opacityB);
    }
    60% {
        opacity: var(--layer2-opacityA);
    }
    80% {
        transform: scale(var(--scaleA));
        opacity: var(--layer2-opacityB);
    }
    100% {
        opacity: var(--layer2-opacityA);
    }
}

/** layout */

.banner-ninini {
    background-color: var(--back-color);
    position:   relative; z-index: 0;
    width:      100%;
    min-height: 100vh;
    overflow:   hidden;
}
.el-ninini-intro {
    position: absolute; z-index: -1;
    top:      0;
    right:    0;
    bottom:   0;
    left:     0;
}
.el-ninini-img {
    display:          block;
    min-height:       100%;
    min-width:        100%;
    object-fit:       cover;
    object-position:  var(--coverA);
}
.el-ninini-message {
    pointer-events: all;
    position: absolute; z-index: 1;
    top:      0;
    right:    0;
    bottom:   0;
    left:     0;

    display:          flex;
    align-content:    flex-end;
    align-items:      flex-end;
    justify-content:  flex-start;

    font-size: 10vmax;
    line-height: 0.75;
    padding:  20vh 4vw;
    color: hsla(0,0%,0%,0.8);
}
.el-ninini-message>a {
    text-decoration: none;
}

/** layers threesome */

.ban-ninini-figure::before,
.ban-ninini-figure::after,
.ban-ninini-figure .el-ninini-intro {
    transition-property:        transform;
    transition-duration:        var(--animation-fulltime);
    transition-timing-function: var(--layer0-function);
    transform-origin:           var(--coverB);
  --animation-name:             var(--layer0-frameset);
    animation:
        var(--animation-name)
        var(--animation-fulltime)
        infinite
        var(--animation-function);
}
.ban-ninini-figure::before,
.ban-ninini-figure::after {
    content:  '';
    pointer-events: none;
    position: absolute; z-index:1;
    top:      0;
    right:    0;
    bottom:   0;
    left:     0;

  --background-image:           var(--layer1-image);
    background-image:           var(--background-image);
    background-position:        var(--coverA);
    background-size:            cover;
    background-repeat:          no-repeat;
}
.ban-ninini-figure::after {
  --background-image:           var(--layer1-image);
  --animation-name:             var(--layer1-frameset);
}
.ban-ninini-figure::before {
  --background-image:           var(--layer2-image);
  --animation-name:             var(--layer2-frameset);
}

/** back screen */

.welcome-back-screen {
    position: relative; z-index: 0;
    width:  100%;
    height: 100vh;
}
.welcome-back-screen>* {
    position: fixed; z-index: -1;
    top:      0;
    right:    0;
    bottom:   0;
    left:     0;
}
.welcome-back-screen::after {
    content:  '';
    pointer-events: none;
    position: absolute; z-index: -1;
    top:      0;
    right:    0;
    bottom:   0;
    left:     0;
  --opacity:  0;
    opacity:  var(--opacity);
    background-color: black;
    transition-property:        opacity;
    transition-duration:        360ms;
    transition-timing-function: cubic-bezier(0.6, 0.04,  0.98,  0.335);
}

.welcome-back-screen.is-hidden::after {
  --opacity:  0.8;
}
.welcome-front-screen {
    position: relative; z-index: 0;
    min-height: 100vh;
    box-shadow: 0 0 2rem black;
    background-color: white;
}
.header-ninini {
    width:  100%;
    height: 100vh;
    overflow: hidden;
}
.hdr-ninini-figure {
    width:  100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-content: center;
    align-items: center;
}
.el-ninini-promo {
    max-width: 80vw;
}
.el-ninini-promo-img {
  --opacity: 0;
  --scale:   1.05;
  --moveXY:  0, 5%;
    opacity:   var(--opacity);
    transform: scale(var(--scale)) translate(var(--moveXY));
    transform-origin: top center;
    transition-property:        opacity, transform;
    transition-duration:        240ms;
    transition-timing-function: cubic-bezier(0.6, 0.04,  0.98,  0.335);
}
.el-ninini-promo-img.is-active {
  --opacity: 1;
  --scale:   1;
  --moveXY:  0, 0;
}


.el-topmenu {
    position: relative; z-index: 2;
    display:          flex;
    align-content:    center;
    align-items:      center;
    justify-content:  center;
    background-color: hsla(226, 15%, 12%, 0.9);
    color:            hsl(226, 27%, 90%);
    box-shadow:       0 0 2rem black;

    transition-property:        opacity, transform;
    transition-duration:        240ms;
    transition-timing-function: cubic-bezier(0.6, 0.04,  0.98,  0.335);
}
.topmenu-link {
    padding: 0.5rem 1rem;
    color: inherit;
    text-decoration: none;
    opacity: 0.64;
    transform: scale(1);
    transform-origin: top center;
    transition-property:        opacity, transform;
    transition-duration:        240ms;
    transition-timing-function: cubic-bezier(0.6, 0.04,  0.98,  0.335);
}
.topmenu-link:hover {
    opacity: 1;
    background-color: rgba(0,0,0,0.05);
}
.welcome-back-screen.is-hidden .el-topmenu {
    opacity: 0;
}

.squares {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    grid-gap: 1rem;
    max-width: 44rem;
    margin: 0 auto;
    padding: 4rem 1rem;
    background-color: white;
}
.squares>* {
    background-color: rgba(0,0,0,0.1);
    padding-top: 100%;
}

.mask-layer {
    width: 100%;
    height: 100vh;

    display:          flex;
    align-content:    center;
    align-items:      center;
    justify-content:  center;

    background-color: white;
}
.mask {
    background-image: url(../art/welcome/saulart-bg.png);
    background-attachment: fixed;
    background-size:       auto;
    padding: 0;
}
.mask-img {
    transition-property:        all;
    transition-duration:        400ms;
    transition-timing-function: cubic-bezier(0.6, 0.04,  0.98,  0.335);
    --transform: scale(1);
}
.mask-img:hover {
    --transform: scale(3);
    width:   70vw;
    height:  42vw;
}
.mask-img {
    display: block;
    width:   50vw;
    height:  30vw;
}


